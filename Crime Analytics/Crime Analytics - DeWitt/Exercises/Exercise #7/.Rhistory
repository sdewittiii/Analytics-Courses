knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
summary(lm(total_crime~1, data=state_data))
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
View(state_data)
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
ggplot(state_data, aes(x=poverty, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", ltype="dashed")
ggplot(state_data, aes(x=poverty, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
ggplot(state_data, aes(x=avwage, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
ggplot(state_data, aes(x=inc_rate, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
ggplot(state_data, aes(x=avwage, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
avPlots(lm1, terms=~avwage)
?avPlots
library(car)
avPlots(lm1, terms=~avwage)
ggplot(state_data, aes(x=avwage, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
?avPlots
library(car)
avPlots(lm1, terms=~urate)
ggplot(state_data, aes(x=urate, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
library(car)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
state_data$incrate_quint <- as.factor(ntile(state_data$inc_rate, 5))
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car); library(dplyr)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
state_data$incrate_quint <- as.factor(ntile(state_data$inc_rate, 5))
summary(lm(total_crime~incrate_quint,
data=state_data))
with(state_data, tapply(total_crime, incrate_quint, mean))
crplots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car); library(dplyr); library(cowplot)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
state_data$incrate_quint <- as.factor(ntile(state_data$inc_rate, 5))
summary(lm(total_crime~incrate_quint,
data=state_data))
with(state_data, tapply(total_crime, incrate_quint, mean))
crplots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
?crplots
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car); library(dplyr)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~avwage, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~avwage, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~top_1, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~avwage, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~top_1, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~urate, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~avwage, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~top_1, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~urate, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~inc_rate, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car); library(dplyr)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
state_data$incrate_quint <- as.factor(ntile(state_data$inc_rate, 5))
summary(lm(total_crime~incrate_quint,
data=state_data))
with(state_data, tapply(total_crime, incrate_quint, mean))
crPlots(lm1, terms=~poverty, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~avwage, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~top_1, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~urate, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
crPlots(lm1, terms=~inc_rate, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
state_date$top_1sq <- state_data$top_1^2
state_data$top_1sq <- state_data$top_1^2
lm2 <- lm(total_crime~poverty+avwage+top_1+top_1sq+urate+inc_rate,
data=state_data)
state_data$top_1sq <- state_data$top_1^2
lm2 <- lm(total_crime~poverty+avwage+top_1+top_1sq+urate+inc_rate,
data=state_data)
summary(lm2)
summary(state_data$top_1)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2); library(haven); library(car); library(dplyr)
state_data <- read_stata("state_data.dta")
state_data <- state_data[complete.cases(state_data),]
options(scipen=10)
state_data$total_crime <- with(state_data, rmurd + rrape + rrobb +
raggr + rburg + rlarc + rauto)
summary(state_data$total_crime)
summary(lm(total_crime~1, data=state_data))
lm1 <- lm(total_crime~poverty+avwage+top_1+urate+inc_rate,
data=state_data)
summary(lm1)
avPlots(lm1, terms=~top_1)
ggplot(state_data, aes(x=top_1, y=total_crime)) +
geom_point() +
geom_smooth(method="lm", se=FALSE)
state_data$incrate_quint <- as.factor(ntile(state_data$inc_rate, 5))
summary(lm(total_crime~incrate_quint,
data=state_data))
with(state_data, tapply(total_crime, incrate_quint, mean))
crPlots(lm1, terms=~top_1, line=TRUE, smooth=TRUE, ylab="Comp+Resid")
summary(state_data$top_1)
state_data$top_1sq <- state_data$top_1^2
lm2 <- lm(total_crime~poverty+avwage+top_1+top_1sq+urate+inc_rate,
data=state_data)
summary(lm2)
