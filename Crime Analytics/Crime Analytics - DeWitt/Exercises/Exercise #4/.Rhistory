knitr::opts_chunk$set(echo = TRUE)
load(file="nlsy97.RData")
nlsy97 <- nlsy97[complete.cases(nlsy97),]
library(ggplot2)
nlsy97_copy <- nlsy97
nlsy97_copy$hh_struc98 <- as.factor(nlsy97_copy$hh_struc98)
nlsy97_copy$race <- as.factor(nlsy97_copy$race)
nlsy97_copy$sex <- as.factor(nlsy97_copy$sex)
ggplot(nlsy97_copy, aes(x=hh_struc98)) + geom_bar(stat="count") +
ggtitle("Distribution of Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure at the 1998 Interview") +
ylab("Count of Youth in Sample") +
scale_y_continuous(breaks=seq(0, 4000, by=500),
minor_breaks=seq(0, 4000, by=250)) +
geom_text(stat="count", aes(label=after_stat(count)),
vjust=1.5, color="white")
ggplot(nlsy97_copy, aes(x=hh_struc98, fill=race)) +
geom_bar(position="dodge", stat="count") +
ggtitle("Distribution of Household Structure by Race") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
scale_y_continuous(breaks=seq(0, 2500, by=500),
minor_breaks=seq(0, 2500, by=250)) +
xlab("Household Structure at the 1998 Interview") +
ylab("Count of Youth in Sample") +
geom_text(stat="count", aes(label=after_stat(count)),
vjust=1.5, color="black",
position=position_dodge(0.9),
size=2.5)
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=crime_freq)) +
geom_point() +
ggtitle("Bivariate Relationship Between Weeks Worked and Crime") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Worked") +
ylab("Number of Self-Reported Crimes") +
scale_y_continuous(breaks = seq(0, 300, by=50),
minor_breaks = seq(0, 300, by=25)) +
geom_smooth(method="lm", color="red", linetype="dashed")
nlsy97_copy$crime_freq <- nlsy97_copy$destprop_num99 +
nlsy97_copy$stllt50_num99 +
nlsy97_copy$stlgt50_num99 +
nlsy97_copy$othprop_num99 +
nlsy97_copy$selldrugs_num99
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=crime_freq)) +
geom_point() +
ggtitle("Bivariate Relationship Between Weeks Worked and Crime") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Worked") +
ylab("Number of Self-Reported Crimes") +
scale_y_continuous(breaks = seq(0, 300, by=50),
minor_breaks = seq(0, 300, by=25)) +
geom_smooth(method="lm", color="red", linetype="dashed")
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=crime_freq, color=sex)) +
geom_point() +
ggtitle("Bivariate Relationship Between Weeks Worked and Crime") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Worked") +
ylab("Number of Self-Reported Crimes") +
scale_y_continuous(breaks = seq(0, 300, by=50),
minor_breaks = seq(0, 300, by=25)) +
geom_smooth(method="lm", color="red", linetype="dashed")
ggplot(nlsy97_copy, aes(x=empweeks_num98)) + geom_histogram() +
ggtitle("Distribution of Weeks Employed") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Count of Youth in Sample")
ggplot(nlsy97_copy, aes(x=empweeks_num98, fill=hh_struc98)) +
geom_histogram(position="identity", alpha=0.4) +
ggtitle("Distribution of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Count of Youth in Sample")
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=after_stat(density),
fill=hh_struc98)) +
geom_histogram(position="identity", alpha=0.3) +
geom_density(bw=0.5, alpha=0.4) +
ggtitle("Distribution of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Probability Density Estimate")
ggplot(nlsy97_copy, aes(x=hh_struc98, y=empweeks_num98)) +
geom_boxplot(width=0.5) +
geom_jitter(position=position_jitter(0.2), alpha=0.05) +
ggtitle("Distribution of Number of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure") +
ylab("Number of Weeks Employed")
knitr::opts_chunk$set(echo = TRUE)
load(file="nlsy97.RData")
nlsy97 <- nlsy97[complete.cases(nlsy97),]
ggplot(nlsy97_copy, aes(x=hh_struc98, y=empweeks_num98, fill=race)) +
geom_boxplot(width=0.5) +
geom_jitter(position=position_jitter(0.2), alpha=0.05) +
ggtitle("Distribution of Weeks Employed by Household Structure and Race") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure") +
ylab("Number of Weeks Employed")
knitr::opts_chunk$set(echo = TRUE)
load(file="nlsy97.RData")
nlsy97 <- nlsy97[complete.cases(nlsy97),]
library(ggplot2)
nlsy97_copy <- nlsy97
nlsy97_copy$hh_struc98 <- as.factor(nlsy97_copy$hh_struc98)
nlsy97_copy$race <- as.factor(nlsy97_copy$race)
nlsy97_copy$sex <- as.factor(nlsy97_copy$sex)
ggplot(nlsy97_copy, aes(x=hh_struc98)) + geom_bar(stat="count") +
ggtitle("Distribution of Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure at the 1998 Interview") +
ylab("Count of Youth in Sample") +
scale_y_continuous(breaks=seq(0, 4000, by=500),
minor_breaks=seq(0, 4000, by=250)) +
geom_text(stat="count", aes(label=after_stat(count)),
vjust=1.5, color="white")
ggplot(nlsy97_copy, aes(x=hh_struc98, fill=race)) +
geom_bar(position="dodge", stat="count") +
ggtitle("Distribution of Household Structure by Race") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
scale_y_continuous(breaks=seq(0, 2500, by=500),
minor_breaks=seq(0, 2500, by=250)) +
xlab("Household Structure at the 1998 Interview") +
ylab("Count of Youth in Sample") +
geom_text(stat="count", aes(label=after_stat(count)),
vjust=1.5, color="black",
position=position_dodge(0.9),
size=2.5)
nlsy97_copy$crime_freq <- nlsy97_copy$destprop_num99 +
nlsy97_copy$stllt50_num99 +
nlsy97_copy$stlgt50_num99 +
nlsy97_copy$othprop_num99 +
nlsy97_copy$selldrugs_num99
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=crime_freq)) +
geom_point() +
ggtitle("Bivariate Relationship Between Weeks Worked and Crime") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Worked") +
ylab("Number of Self-Reported Crimes") +
scale_y_continuous(breaks = seq(0, 300, by=50),
minor_breaks = seq(0, 300, by=25)) +
geom_smooth(method="lm", color="red", linetype="dashed")
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=crime_freq, color=sex)) +
geom_point() +
ggtitle("Bivariate Relationship Between Weeks Worked and Crime") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Worked") +
ylab("Number of Self-Reported Crimes") +
scale_y_continuous(breaks = seq(0, 300, by=50),
minor_breaks = seq(0, 300, by=25)) +
geom_smooth(method="lm", color="red", linetype="dashed")
ggplot(nlsy97_copy, aes(x=empweeks_num98)) + geom_histogram() +
ggtitle("Distribution of Weeks Employed") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Count of Youth in Sample")
ggplot(nlsy97_copy, aes(x=empweeks_num98, fill=hh_struc98)) +
geom_histogram(position="identity", alpha=0.4) +
ggtitle("Distribution of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Count of Youth in Sample")
ggplot(nlsy97_copy, aes(x=empweeks_num98, y=after_stat(density),
fill=hh_struc98)) +
geom_histogram(position="identity", alpha=0.3) +
geom_density(bw=0.5, alpha=0.4) +
ggtitle("Distribution of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Number of Weeks Employed") +
ylab("Probability Density Estimate")
ggplot(nlsy97_copy, aes(x=hh_struc98, y=empweeks_num98)) +
geom_boxplot(width=0.5) +
geom_jitter(position=position_jitter(0.2), alpha=0.05) +
ggtitle("Distribution of Number of Weeks Employed by Household Structure") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure") +
ylab("Number of Weeks Employed")
ggplot(nlsy97_copy, aes(x=hh_struc98, y=empweeks_num98, fill=race)) +
geom_boxplot(width=0.5) +
geom_jitter(position=position_jitter(0.2), alpha=0.05) +
ggtitle("Distribution of Weeks Employed by Household Structure and Race") +
theme(plot.title=element_text(hjust=0.5,
face="bold", family="serif")) +
xlab("Household Structure") +
ylab("Number of Weeks Employed")
knitr::opts_chunk$set(echo = TRUE)
library(maps); library(ggplot2);
library(sf); library(ggpubr);
library(gifski)
data("USArrests")
arrests <- data.frame(state=tolower(rownames(USArrests)), USArrests)
us_map <- map_data("state")
crime_map <- merge(us_map, arrests, by.x="region", by.y="state")
crime_map <- crime_map[with(crime_map, order(group, order)),]
ggplot(crime_map, aes(x=long, y=lat, group=group, fill=Murder)) +
geom_polygon(color="black") +
coord_map("polyconic")
knitr::opts_chunk$set(echo = TRUE)
library(maps); library(ggplot2);
library(sf); library(ggpubr);
library(gifski)
data("USArrests")
arrests <- data.frame(state=tolower(rownames(USArrests)), USArrests)
us_map <- map_data("state")
crime_map <- merge(us_map, arrests, by.x="region", by.y="state")
crime_map <- crime_map[with(crime_map, order(group, order)),]
ggplot(crime_map, aes(x=long, y=lat, group=group, fill=Murder)) +
geom_polygon(color="black") +
coord_map("polyconic")
tracts_map <- read_sf("Shapefiles/Census_Tracts_2020.shp")
ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
coord_sf()
ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
coord_sf(xlim=c(-80.91, -80.71), ylim=c(35.10,35.30), expand=FALSE)
incidents <- read_sf("Shapefiles/CMPD_incidents.shp")
burglaries_2018 <- subset(incidents, HIGHEST__1=="Burglary/B&E" & YEAR=="2018")
burglaries_2019 <- subset(incidents, HIGHEST__1=="Burglary/B&E" & YEAR=="2019")
burglaries_2020 <- subset(incidents, HIGHEST__1=="Burglary/B&E" & YEAR=="2020")
burglaries_2021 <- subset(incidents, HIGHEST__1=="Burglary/B&E" & YEAR=="2021")
rm(incidents)
burglaries_2018_plot <- ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
geom_sf(data=burglaries_2018, color="red", alpha=0.5, size=0.75) +
coord_sf(xlim=c(-80.91, -80.71), ylim=c(35.10,35.30), expand=FALSE) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
ggtitle("Burglary Incidents in 2018")
burglaries_2019_plot <- ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
geom_sf(data=burglaries_2019, color="red", alpha=0.5, size=0.75) +
coord_sf(xlim=c(-80.91, -80.71), ylim=c(35.10,35.30), expand=FALSE) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
ggtitle("Burglary Incidents in 2019")
burglaries_2020_plot <- ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
geom_sf(data=burglaries_2020, color="red", alpha=0.5, size=0.75) +
coord_sf(xlim=c(-80.91, -80.71), ylim=c(35.10,35.30), expand=FALSE) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
ggtitle("Burglary Incidents in 2020")
burglaries_2021_plot <- ggplot() +
geom_sf(data=tracts_map, fill="lightgrey", color="black") +
geom_sf(data=burglaries_2021, color="red", alpha=0.5, size=0.75) +
coord_sf(xlim=c(-80.91, -80.71), ylim=c(35.10,35.30), expand=FALSE) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank(),
axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
ggtitle("Burglary Incidents in 2021")
ggsave("Plots/2018.png", plot=burglaries_2018_plot)
ggsave("Plots/2019.png", plot=burglaries_2019_plot)
ggsave("Plots/2020.png", plot=burglaries_2020_plot)
ggsave("Plots/2021.png", plot=burglaries_2021_plot)
